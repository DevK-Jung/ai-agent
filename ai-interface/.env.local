# ========================================
# 기본 애플리케이션 설정
# ========================================
APP_NAME=AI Interface API
VERSION=1.0.0
ENVIRONMENT=local
DEBUG=true

# ========================================
# 서버 설정
# ========================================
HOST=0.0.0.0
PORT=8000

# ========================================
# 기본 데이터베이스 설정 (메인 앱용)
# ========================================
DATABASE_URL=postgresql://user:password@localhost:5432/maindb
DATABASE_ECHO=false

# ========================================
# JWT 인증 설정
# ========================================
SECRET_KEY=your-super-secret-key-change-in-production-please
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# ========================================
# CORS 설정
# ========================================
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://127.0.0.1:3000

# ========================================
# 로깅 설정
# ========================================
LOG_LEVEL=INFO
LOG_FILE=app.log

# ========================================
# Ollama 설정
# ========================================
# Ollama 서버 URL (기본값: http://localhost:11434)
OLLAMA_BASE_URL=http://192.168.1.10:11434

OLLAMA_DEFAULT_MODEL=gemma3:27b

# 임베딩 모델 설정
# 권장 모델들:
# - nomic-embed-text: 기본 권장 (균형잡힌 성능, 다국어 지원)
# - mxbai-embed-large: 높은 정확도 (더 큰 모델, 느림)
# - all-minilm: 빠른 처리 (가벼운 모델)
# - snowflake-arctic-embed: 고성능 임베딩
OLLAMA_EMBEDDING_MODEL=bge-m3:567m-fp16

# Ollama 타임아웃 설정 (초)
OLLAMA_TIMEOUT=120

# ========================================
# 벡터 데이터베이스 (PostgreSQL + pgvector) 설정
# ========================================
# PostgreSQL 벡터 DB 연결 정보
VECTOR_POSTGRES_HOST=localhost
VECTOR_POSTGRES_PORT=5433
VECTOR_POSTGRES_DB=vector
VECTOR_POSTGRES_USER=user01
VECTOR_POSTGRES_PASSWORD=user01234

# ========================================
# 벡터 DB 연결 풀 설정
# ========================================
# SQL 쿼리 로깅 (개발시에만 true)
VECTOR_DB_ECHO=false

# 연결 풀 설정
VECTOR_CONNECTION_POOL_SIZE=5
VECTOR_MAX_OVERFLOW=10
VECTOR_POOL_TIMEOUT=30

VECTOR_TABLE_PREFIX=embeddings_

# ========================================
# 문서 처리 설정
# ========================================
# 텍스트 분할 설정
DEFAULT_CHUNK_SIZE=1000
DEFAULT_CHUNK_OVERLAP=200

# 검색 설정
DEFAULT_SEARCH_K=5
MAX_SEARCH_K=50

# 기본 컬렉션명
DEFAULT_COLLECTION_NAME=documents

# ========================================
# 벡터 검색 성능 설정
# ========================================
# 배치 처리 크기 (대량 문서 처리시)
VECTOR_BATCH_SIZE=100

# 임베딩 캐시 크기
EMBEDDING_CACHE_SIZE=1000

# 벡터 검색 기능 활성화
ENABLE_VECTOR_SEARCH=true

# 벡터 검색 타임아웃 (초)
VECTOR_SEARCH_TIMEOUT=30

# ========================================
# 파일 관련 설정
# ========================================
UPLOAD_DIR=uploads
MAX_FILE_SIZE=10485760
MAX_CONCURRENT_FILES=10
THREAD_POOL_WORKERS=4

# 쉼표로 구분된 문자열
#ALLOWED_EXTENSIONS=.pdf,.docx,.xlsx,.xls,.csv,.txt,.json,.png,.jpg,.jpeg,.gif
#ALLOWED_MIME_TYPES=application/pdf,application/vnd.openxmlformats-officedocument.wordprocessingml.document,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/vnd.ms-excel,text/plain,text/csv,application/json,image/jpeg,image/png,image/gif
#FALLBACK_ENCODINGS=utf-8,cp949,euc-kr,latin1
ALLOWED_EXTENSIONS=[".pdf",".docx",".xlsx",".xls",".csv",".txt",".json",".png",".jpg",".jpeg",".gif"]
ALLOWED_MIME_TYPES=["application/pdf","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.ms-excel","text/plain","text/csv","application/json","image/jpeg","image/png","image/gif"]
FALLBACK_ENCODINGS=["utf-8","cp949","euc-kr","latin1"]
DEFAULT_TEXT_ENCODING=utf-8

# ========================================
# 개발/테스트 전용 설정
# ========================================
# 개발시 자동 리로드
RELOAD=true

# 테스트 데이터베이스 (테스트 환경용)
# TEST_DATABASE_URL=postgresql://test_user:test_pass@localhost:5432/test_vectordb